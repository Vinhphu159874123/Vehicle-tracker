<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Counting Dashboard</title>
    <style>
        /* TODO: Báº¡n cÃ³ thá»ƒ tá»± design CSS */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #00ff88;
        }
        
        .video-container {
            background: #000;
            border: 2px solid #333;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .video-container img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #444;
        }
        
        .stat-label {
            color: #888;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: #00ff88;
        }
        
        .stat-value.out {
            color: #ff4444;
        }
        
        /* TODO: ThÃªm styles cho charts náº¿u cáº§n */
    </style>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>ðŸš— Vehicle Counting System</h1>
        
        <div class="video-container">
            <!-- Video stream -->
            <img src="{{ url_for('video_feed') }}" alt="Live Feed">
        </div>
        
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-label">Vehicles IN</div>
                <div class="stat-value" id="count-in">0</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Vehicles OUT</div>
                <div class="stat-value out" id="count-out">0</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Net (IN - OUT)</div>
                <div class="stat-value" id="count-net">0</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Last Update</div>
                <div class="stat-value" id="last-update" style="font-size: 16px;">--:--:--</div>
            </div>
        </div>
        
        <!-- TODO: ThÃªm chart cho hourly statistics náº¿u muá»‘n -->
        <!-- CÃ³ thá»ƒ dÃ¹ng Chart.js hoáº·c Plotly -->
    </div>
    
    <script>
        // TODO: Báº¡n cáº§n implement WebSocket connection
        
        // Connect to SocketIO
        const socket = io();
        
        // Listen for stats updates
        socket.on('stats_update', function(data) {
            // TODO: Update DOM vá»›i data má»›i
            // document.getElementById('count-in').textContent = data.count_in;
            // document.getElementById('count-out').textContent = data.count_out;
            // ...
        });
        
        // Optional: Periodic API polling fallback
        function updateStats() {
            fetch('/api/stats')
                .then(response => response.json())
                .then(data => {
                    // TODO: Update stats
                })
                .catch(error => console.error('Error:', error));
        }
        
        // Update every 5 seconds as fallback
        // setInterval(updateStats, 5000);
    </script>
</body>
</html>
